---
date: 2026-02-01
---
# Rails49 Docker App

## Traefik 

Requires a Cloudflare API token with DNS-01 challenge support.

1. **Zone / DNS / Edit**: This allows Traefik to create and delete the _acme-challenge TXT records.
2. **Zone / Zone / Read**: This allows Traefik to find the correct Zone ID for your domain.

Steps to create the token:
1. Go to My Profile > API Tokens in your Cloudflare dashboard.
2. Click **Create Token**.
3. Choose **Create Custom Token**.
4. Name it (e.g., Traefik DNS Challenge).
5. Add the two permissions mentioned above.
6. Under **Zone Resources**, select Include > Specific zone > rails49.org (or "All zones" if you prefer).
Copy the generated token immediately (it won't be shown again).

Then copy the token to the `.env` file:

```bash
RAILS_DOMAIN=rails49.org
CF_DNS_API_TOKEN=your_new_token_here
```

## Configure DNS Resolution on you Router

Configure the router for local dns resolution. My router (a GL.iNet) allows editing the hosts file under Network > DNS. Add the following (update the IP addresses):

```
192.168.8.235 rails49.org
192.168.8.235 code.rails49.org
```

## Commands

* deploy to balena: `./bin/deploy`
* run tests: `./bin/test`

## DCC-EX protocol

[Native commands](https://dcc-ex.com/reference/software/command-summary-consolidated.html)